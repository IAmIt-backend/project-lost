@using Microsoft.AspNet.Identity;
@using MongoDB.Bson;

@model Lost.ViewModel.IndexViewModel
@{
    ViewBag.Title = "Thing Info";
}
@using DB.Models
<!DOCTYPE html>
<html>
<body style="background-color: beige; font-family: Verdana, Arial;">
    <form action="" method="post">
        <p>
            @Html.ActionLink("Return", "Index", "Home")
        </p>
        <style>
            textarea{
                resize: none
            }
        </style>
        <p>
            <label for="status">Status of thing:</label><br>
            <input id="status" name="status" cols="40" rows="3" value=@Model.Status >
        </p>     
        <p>
    @{
        if (Model.UserId != null && User.Identity.GetUserId() != null) { 
        if (Model.UserId.Equals(new ObjectId(User.Identity.GetUserId())))
        {
        <p>
            <label for="about">Title:</label><br> @*title == about*@
            <input type="text" id="about" name="about" cols="40" rows="3" value=@Model.About>
        </p>
        <p>
            <label for="description">Description:</label><br>
            <input id="description" name="description" cols="40" rows="3" value=@Model.Description>
        </p>
        <p>
            <label for="place">Place, where this thing was found or lost:</label><br>
            <input id="place" name="place" cols="40" rows="3" value=@Model.Place>
        </p>
                    <input type="submit" name="deleteButton" id="deleteButton" value="Delete from list">
            <input type="submit" name="editButton" id="editButton" value="Edit">
        }
        else
        {
            <p>
                <label for="about">Title:</label><br> @*title == about*@
                <input type="text" id="about" name="about" cols="40" rows="3" value=@Model.About disabled>
            </p>
            <p>
                <label for="description">Description:</label><br>
                <input id="description" name="description" cols="40" rows="3" value=@Model.Description disabled>
            </p>
            <p>
                <label for="place">Place, where this thing was found or lost:</label><br>
                <input id="place" name="place" cols="40" rows="3" value=@Model.Place disabled>
            </p>
                    <input type="submit" name="deleteButton" id="deleteButton" value="Delete from list" disabled>
                    <input type="submit" name="editButton" id="editButton" value="Edit" disabled>
            }
        }
                }
            
           
            
         @Html.ActionLink("View user page", "UserProfile", "Home", new { userId = Model.UserId, thingId = Model.ThingId }, null)
         @Html.ActionLink(" ", "ThingInfo", "Home", new { thingId = Model.ThingId }, null)
        </p>
       @* <p>@Model.Text</p>*@
        
    </form>

</body>
</html>
